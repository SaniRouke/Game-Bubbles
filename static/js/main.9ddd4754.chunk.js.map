{"version":3,"sources":["img/bubble_frames.png","img/oar-skyrim.png","Canvas.js","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Div","useEffect","main","id","ctx","document","getElementById","getContext","Game","play","props","canvas","stage","isPlay","bubbleSprite","oarSprite","mousePos","prev","x","y","wind","power","isRightDirection","tempForSin","time","current","start","end","isEnd","bubbles","countDependsOnWidth","count","list","oar","gameInterface","settingCanvas","width","window","innerWidth","height","innerHeight","setGameProps","Image","src","bubbleFrames","oarImage","Oar","GameInterface","addEvents","addEventListener","restart","setInterval","runWind","Math","random","setMousePos","floor","intervalId","clearInterval","sin","gameAnimate","gameRender","requestAnimationFrame","update","move","forEach","bubble","moveYRush","drawCursor","clearContext","drawBackground","drawWind","render","drawIntro","drawStartButton","drawScore","drawTimer","drawResult","clearRect","filter","isDead","frame","isExploding","isCollision","score","explode","addScore","pos","bottom","length","push","Bubble","startButton","isMouseCollision","restartTimer","e","clientX","clientY","light","createRadialGradient","addColorStop","deep","createLinearGradient","save","fillStyle","fillRect","restore","oy","startX","startY","opacity","strokeStyle","beginPath","moveTo","endX","endY","quadraticCurveTo","stroke","closePath","Date","now","value","missed","this","gameProps","size","minSize","maxSize","color","step","top","right","left","drawFrame","moveY","moveX","updateSidesPos","blowRight","blowLeft","accFromSize","frameSize","column","row","translate","dx","dy","rotateAngle","atan2","PI","rotate","drawImage","bgSize","grad","globalCompositeOperation","arc","fill","angle","dif","ox","updateHitBoxPos","hitBox","radius","obj","min","max","sqrt","baseSize","font","cursor","timer","isDrawn","intro","result","setPositions","gradHover","textAlign","textBaseline","fillText","isHit","endTime","cursorRadius","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.9ddd4754.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bubble_frames.71faec4c.png\";","export default __webpack_public_path__ + \"static/media/oar-skyrim.c07a4acb.png\";","import { useEffect } from \"react\";\r\nimport bubbleFrames from \"./img/bubble_frames.png\";\r\nimport oarImage from \"./img/oar-skyrim.png\";\r\n\r\nexport default function Div() {\r\n  useEffect(() => {\r\n    main();\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <canvas id=\"canvas\"></canvas>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst main = () => {\r\n  const ctx = document.getElementById(\"canvas\").getContext(\"2d\");\r\n  const game = new Game(ctx);\r\n  //\r\n  game.play();\r\n};\r\n\r\nclass Game {\r\n  props = {\r\n    ctx: null,\r\n    canvas: null,\r\n    stage: 0,\r\n    isPlay: true,\r\n    bubbleSprite: null,\r\n    oarSprite: null,\r\n    mousePos: {\r\n      prev: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      x: 0,\r\n      y: 0,\r\n    },\r\n    wind: {\r\n      power: 0,\r\n      isRightDirection: false,\r\n      tempForSin: 0,\r\n    },\r\n    time: {\r\n      current: null,\r\n      start: null,\r\n      end: 60,\r\n      isEnd: null,\r\n    },\r\n  };\r\n  bubbles = {\r\n    countDependsOnWidth: 100,\r\n    count: 0,\r\n    list: [],\r\n  };\r\n  oar = null;\r\n  gameInterface = null;\r\n\r\n  constructor(ctx) {\r\n    const { props } = this;\r\n    props.ctx = ctx;\r\n    props.canvas = ctx.canvas;\r\n\r\n    this.settingCanvas();\r\n    this.setGameProps();\r\n    this.addEvents();\r\n  }\r\n  settingCanvas = () => {\r\n    const { props } = this;\r\n    props.canvas.width = window.innerWidth;\r\n    props.canvas.height = window.innerHeight;\r\n  };\r\n  setGameProps = () => {\r\n    const { bubbles, props } = this;\r\n    bubbles.count = props.canvas.width / bubbles.countDependsOnWidth;\r\n    props.bubbleSprite = new Image();\r\n    props.bubbleSprite.src = bubbleFrames;\r\n    props.oarSprite = new Image();\r\n    props.oarSprite.src = oarImage;\r\n    this.oar = new Oar(props);\r\n    this.gameInterface = new GameInterface(props);\r\n  };\r\n  addEvents = () => {\r\n    const { props } = this;\r\n    props.canvas.addEventListener(\"click\", this.restart);\r\n    setInterval(this.runWind, (Math.random() * 2 + 3) * 1000);\r\n    this.runWind();\r\n    props.canvas.addEventListener(\"mousemove\", this.setMousePos);\r\n  };\r\n  runWind = () => {\r\n    const { wind } = this.props;\r\n    wind.isRightDirection = Math.floor(Math.random() * 2);\r\n    const intervalId = setInterval(() => {\r\n      if (wind.power < 0 || wind.tempForSin > 10) {\r\n        wind.tempForSin = 0;\r\n        wind.power = 0;\r\n        clearInterval(intervalId);\r\n      }\r\n      wind.tempForSin += Math.random() * 0.1 + 0.3;\r\n      wind.power += Math.sin(wind.tempForSin / 2);\r\n    }, 100);\r\n  };\r\n  // цикл\r\n  play = () => {\r\n    this.gameAnimate();\r\n    this.gameRender();\r\n\r\n    requestAnimationFrame(this.play);\r\n  };\r\n  gameAnimate = () => {\r\n    const { props, bubbles, oar, gameInterface } = this;\r\n\r\n    if(this.props.stage !== 0) {\r\n      this.update();\r\n    }    \r\n    if (this.props.stage === 1) {\r\n      if (props.time.isEnd) {\r\n        props.stage = 2;\r\n      }\r\n      oar.move()\r\n      bubbles.list.forEach((bubble) => {\r\n        bubble.move();\r\n      });\r\n    }\r\n    if (this.props.stage === 2) {\r\n      bubbles.list.forEach((bubble) => {\r\n        bubble.moveYRush();\r\n      });\r\n    }\r\n    gameInterface.drawCursor()\r\n  };\r\n  gameRender = () => {\r\n    const { props, bubbles, oar, gameInterface } = this;\r\n    this.clearContext();\r\n    this.drawBackground();\r\n    this.drawWind();\r\n    bubbles.list.forEach((bubble) => {\r\n      bubble.render();\r\n    });\r\n    if (this.props.stage === 0) {\r\n      gameInterface.drawIntro()\r\n      gameInterface.drawStartButton()\r\n    }\r\n    if (this.props.stage === 1) {\r\n      oar.render()\r\n      gameInterface.drawScore()\r\n      gameInterface.update()\r\n      gameInterface.drawTimer()\r\n    }\r\n    if (this.props.stage === 2) {\r\n      gameInterface.drawResult()\r\n      gameInterface.drawStartButton()\r\n    }\r\n    gameInterface.drawCursor()\r\n    // this.debug();\r\n  };\r\n  clearContext = () => {\r\n    const { props } = this;\r\n    const width = props.canvas.width;\r\n    const height = props.canvas.height;\r\n    props.ctx.clearRect(0, 0, width, height);\r\n  };\r\n  update = () => {\r\n    const { props, bubbles, oar, gameInterface } = this;\r\n    this.settingCanvas()\r\n    bubbles.list = bubbles.list.filter((bubble) => {\r\n      return !bubble.isDead;\r\n    });\r\n    if (props.time.isEnd) {\r\n      return;\r\n    }\r\n    bubbles.list.forEach((bubble) => {\r\n      if (bubble.frame.isExploding) {\r\n        return\r\n      }\r\n      if (oar.isCollision(bubble)) {\r\n        const score = bubble.explode();\r\n        gameInterface.addScore(score, true);\r\n      }\r\n      if(bubble.pos.bottom < 0) {\r\n        const score = bubble.explode();\r\n        gameInterface.addScore(score, false);\r\n      }\r\n    });\r\n    if (bubbles.list.length < bubbles.count) {\r\n      bubbles.list.push(new Bubble(this.props));\r\n    }\r\n  };\r\n  restart = () => {\r\n    const { props } = this;\r\n    if (this.gameInterface.startButton.isMouseCollision()) {\r\n      props.stage = 1\r\n      this.restartTimer();\r\n    }\r\n  }\r\n  setMousePos = (e) => {\r\n    const { props } = this;\r\n    props.mousePos.x = e.clientX;\r\n    props.mousePos.y = e.clientY;\r\n  }\r\n  drawBackground = () => {\r\n    const { ctx, canvas } = this.props;\r\n    const light = ctx.createRadialGradient(0, 0, 0, 0, 0, canvas.width);\r\n    light.addColorStop(0, \"rgba(0,150,200,0)\");\r\n    light.addColorStop(1, \"rgba(0,0,0,0.9)\");\r\n    const deep = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n    deep.addColorStop(0, \"rgba(100,255,255,1)\");\r\n    deep.addColorStop(0.3, \"rgba(0,150,200,0)\");\r\n    deep.addColorStop(0.95, \"rgba(0,0,0,1)\");\r\n    ctx.save();\r\n    ctx.fillStyle = deep;\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    ctx.fillStyle = light;\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    ctx.restore();\r\n  };\r\n  drawWind = () => {\r\n    const { ctx, canvas } = this.props;\r\n    const oy = canvas.height / 2;\r\n    const length = 200;\r\n    const x = Math.random() * canvas.width;\r\n    const y = Math.random() * canvas.height - oy;\r\n    const startX = x;\r\n    const startY = oy - y;\r\n\r\n    ctx.save();\r\n    const opacity = this.props.wind.power / 50;\r\n    const curveValue = 0.3;\r\n    ctx.strokeStyle = `rgba(150,255,255,${opacity})`;\r\n    ctx.beginPath();\r\n    ctx.moveTo(startX, startY);\r\n    if (this.props.wind.isRightDirection) {\r\n      const endX = x + length;\r\n      const curve = (startX * curveValue) / canvas.width;\r\n      const endY = oy - y * (1 + curve);\r\n\r\n      ctx.quadraticCurveTo(\r\n        startX + length * 0.6,\r\n        startY + (endY - startY) / 100,\r\n        endX,\r\n        endY\r\n      );\r\n    } else {\r\n      const endX = x - length;\r\n      const curve = curveValue - (startX * curveValue) / canvas.width;\r\n      const endY = oy - y * (1 + curve);\r\n\r\n      ctx.quadraticCurveTo(\r\n        startX - length * 0.6,\r\n        startY + (endY - startY) / 100,\r\n        endX,\r\n        endY\r\n      );\r\n    }\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n    ctx.restore();\r\n  };\r\n  restartTimer = () => {\r\n    this.props.time.start = Date.now();\r\n    this.props.time.isEnd = false;\r\n    this.gameInterface.score.value = 0\r\n    this.gameInterface.score.missed = 0\r\n  };\r\n}\r\n\r\nclass Bubble {\r\n  gameProps = null;\r\n  ctx = null;\r\n  canvas = null;\r\n  size = null;\r\n  minSize = 5;\r\n  maxSize = 100;\r\n  color = null;\r\n  step = null;\r\n  isDead = false;\r\n\r\n  pos = {\r\n    x: null,\r\n    y: null,\r\n    top: null,\r\n    right: null,\r\n    bottom: null,\r\n    left: null,\r\n  };\r\n\r\n  frame = {\r\n    current: 0,\r\n    isExploding: false,\r\n    size: 512,\r\n  };\r\n\r\n  constructor(gameProps) {\r\n    this.gameProps = gameProps;\r\n    this.ctx = gameProps.ctx;\r\n    this.canvas = gameProps.canvas;\r\n\r\n    this.size = Math.floor(\r\n      Math.random() * (this.maxSize - this.minSize) + this.minSize\r\n    );\r\n    this.step = 10 / this.size + 1;\r\n    this.pos = {\r\n      x: Math.floor(\r\n        Math.random() * (this.canvas.width - this.size) + this.size / 2\r\n      ),\r\n      y: Math.floor(Math.random() * this.canvas.height + this.canvas.height),\r\n    };\r\n    this.updateSidesPos();\r\n    this.color = `rgba(${Math.random() * 255},${Math.random() * 255}, ${\r\n      Math.random() * 255\r\n    },1)`;\r\n  }\r\n  render = () => {\r\n    const { frame, gameProps } = this;\r\n\r\n    this.drawBackground();\r\n\r\n    if (gameProps.bubbleSprite) {\r\n      this.drawFrame(frame.current);\r\n    }\r\n  };\r\n  move = () => {\r\n    this.moveY();\r\n    this.moveX();\r\n    this.updateSidesPos();\r\n  };\r\n  moveYRush = () => {\r\n    this.moveY()\r\n    this.step *= 1.05;\r\n  }\r\n  moveY = () => {\r\n    const { gameProps, pos, step, frame } = this;\r\n    if (gameProps.stage === 1) {\r\n      this.step = (gameProps.time.current * 2) / 60 + 2;\r\n    } \r\n    pos.y -= step;\r\n  };\r\n  moveX = () => {\r\n    const { canvas, pos, size, maxSize, gameProps } = this;\r\n    const blowRight = canvas.width / pos.x;\r\n    const blowLeft = -canvas.width / (canvas.width - pos.x);\r\n    const acc = gameProps.wind.isRightDirection ? blowRight : blowLeft;\r\n    const accFromSize = ((maxSize * 10) / size) * acc;\r\n    pos.x += (accFromSize / 500) * gameProps.wind.power;\r\n    if (pos.x - size / 2.5 < 0) {\r\n      pos.x = size / 2.5;\r\n    }\r\n    if (pos.x + size / 2.5 > canvas.width) {\r\n      pos.x = canvas.width - size / 2.5;\r\n    }\r\n  };\r\n  updateSidesPos = () => {\r\n    const { pos, size } = this;\r\n    pos.top = pos.y - size / 2;\r\n    pos.right = pos.x + size / 2;\r\n    pos.bottom = pos.y + size / 2;\r\n    pos.left = pos.x - size / 2;\r\n  };\r\n  explode = () => {\r\n    const { frame, size } = this;\r\n    frame.isExploding = true;\r\n\r\n    const intervalId = setInterval(() => {\r\n      frame.current++;\r\n      if (frame.current > 5) {\r\n        clearInterval(intervalId);\r\n        this.isDead = true;\r\n      }\r\n    }, 50);\r\n    return size;\r\n  };\r\n  drawFrame = (frame) => {\r\n    const { ctx, canvas, pos, size, gameProps } = this;\r\n    const frameSize = this.frame.size;\r\n    const column = (frame % 3) * frameSize;\r\n    const row = frame > 2 ? frameSize : 0;\r\n    //\r\n    ctx.save();\r\n    ctx.translate(pos.x, pos.y);\r\n\r\n    const dx = -canvas.width / 2 - pos.x;\r\n    const dy = -canvas.height - pos.y;\r\n    const rotateAngle = (Math.atan2(dy, dx) / Math.PI) * 180;\r\n\r\n    ctx.rotate((Math.PI / 180) * (135 + rotateAngle));\r\n    ctx.translate(-pos.x, -pos.y);\r\n    //\r\n    ctx.drawImage(\r\n      gameProps.bubbleSprite,\r\n      column,\r\n      row,\r\n      frameSize,\r\n      frameSize,\r\n      pos.x - size / 2,\r\n      pos.y - size / 2,\r\n      size,\r\n      size\r\n    );\r\n    ctx.restore();\r\n  };\r\n  drawBackground = () => {\r\n    const { ctx, pos, size, color, frame } = this;\r\n    const bgSize = size / (frame.current + 1);\r\n\r\n    ctx.save();\r\n    const grad = ctx.createRadialGradient(\r\n      pos.x,\r\n      pos.y,\r\n      0,\r\n      pos.x,\r\n      pos.y,\r\n      bgSize\r\n    );\r\n    grad.addColorStop(0, color);\r\n    grad.addColorStop(0.4, \"transparent\");\r\n\r\n    ctx.globalCompositeOperation = \"soft-light\";\r\n    ctx.beginPath();\r\n    ctx.arc(pos.x, pos.y, bgSize * 2, 0, Math.PI * 2);\r\n    ctx.fillStyle = grad;\r\n    ctx.fill();\r\n    ctx.closePath();\r\n    ctx.restore();\r\n  };\r\n}\r\n\r\nclass Oar {\r\n  gameProps = null;\r\n  pos;\r\n  hitBox;\r\n  size = 250;\r\n  angle = 0;\r\n\r\n  constructor(gameProps) {\r\n    this.gameProps = gameProps;\r\n    this.ctx = gameProps.ctx;\r\n    this.canvas = gameProps.ctx.canvas;\r\n    this.pos = {\r\n      x: this.canvas.width / 2,\r\n      y: 0,\r\n    };\r\n  }\r\n\r\n  render = () => {\r\n    const { ctx, pos, angle, size, gameProps } = this;\r\n\r\n    // this.debug();+\r\n\r\n    ctx.save();\r\n    ctx.translate(pos.x, pos.y);\r\n    ctx.rotate((Math.PI / 180) * 143);\r\n    ctx.rotate(angle);\r\n    //\r\n    // ctx.shadowColor = \"black\";\r\n    // ctx.shadowOffsetX = 10;\r\n    // ctx.shadowOffsetY = 100;\r\n    // ctx.shadowBlur = 100;\r\n    ctx.drawImage(\r\n      gameProps.oarSprite,\r\n      50,\r\n      0,\r\n      500,\r\n      500,\r\n      -size / 2,\r\n      -size / 2,\r\n      size,\r\n      size\r\n    );\r\n    ctx.restore();\r\n  };\r\n  move = () => {\r\n    const { canvas, pos, gameProps } = this;\r\n    const { mousePos } = gameProps;\r\n    mousePos.prev.x = pos.x;\r\n    const dif = mousePos.x - mousePos.prev.x;\r\n    pos.x += dif / 50;\r\n\r\n    const ox = pos.x - canvas.width / 2;\r\n    this.angle = -((Math.PI / 180) * ox) / 10;\r\n    this.updateHitBoxPos();\r\n  };\r\n  updateHitBoxPos = () => {\r\n    const { canvas, size } = this;\r\n\r\n    this.hitBox = {\r\n      radius: 50,\r\n      pos: {\r\n        x:\r\n          canvas.width / 2 +\r\n          ((canvas.width / 2 - this.pos.x) / canvas.width) *\r\n            -canvas.width *\r\n            1.2,\r\n        y: this.pos.y + size / 3,\r\n      },\r\n    };\r\n  };\r\n  isCollision = (obj) => {\r\n    const { hitBox } = this;\r\n    const left = Math.min(hitBox.pos.x, obj.pos.x);\r\n    const top = Math.min(hitBox.pos.y, obj.pos.y);\r\n    const right = Math.max(hitBox.pos.x, obj.pos.x);\r\n    const bottom = Math.max(hitBox.pos.y, obj.pos.y);\r\n\r\n    const dx = right - left;\r\n    const dy = bottom - top;\r\n\r\n    const distance = Math.sqrt(dx * dx + dy * dy);\r\n    if (distance < hitBox.radius + obj.size / 3) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n}\r\n\r\nclass GameInterface {\r\n  gameProps = null;\r\n  baseSize = 20;\r\n  font = `${this.baseSize}px monospace`;\r\n  cursor = {\r\n    pos: null,\r\n  };\r\n  score = {\r\n    value: 0,\r\n    missed: 0,\r\n    pos: {\r\n      x: null,\r\n      y: null,\r\n    },\r\n  };\r\n  timer = {\r\n    time: 0,\r\n    pos: {\r\n      x: null,\r\n      y: null,\r\n    },\r\n  };\r\n  startButton = {\r\n    radius: this.baseSize * 3,\r\n    pos: {\r\n      x: null,\r\n      y: null,\r\n    },\r\n    isDrawn: false,\r\n    isMouseCollision: () => {\r\n      const { pos, radius } = this.startButton;\r\n      const { mousePos } = this.gameProps;\r\n  \r\n      const left = Math.min(pos.x, mousePos.x);\r\n      const top = Math.min(pos.y, mousePos.y);\r\n      const right = Math.max(pos.x, mousePos.x);\r\n      const bottom = Math.max(pos.y, mousePos.y);\r\n  \r\n      const dx = right - left;\r\n      const dy = bottom - top;\r\n  \r\n      const distance = Math.sqrt(dx * dx + dy * dy);\r\n      if (distance < radius && this.startButton.isDrawn) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n  intro = {\r\n    pos: {\r\n      x: null,\r\n      y: null,\r\n    },\r\n  };\r\n  result = {\r\n    pos: {\r\n      x: null,\r\n      y: null\r\n    }\r\n  }\r\n  constructor(gameProps) {\r\n    this.gameProps = gameProps;\r\n    this.ctx = gameProps.ctx;\r\n    this.canvas = gameProps.canvas;\r\n    this.setPositions();\r\n  }\r\n  setPositions = () => {\r\n    const { canvas, baseSize, score, timer, startButton, intro, result } = this;\r\n    score.pos = {\r\n      x: canvas.width - baseSize / 4,\r\n      y: canvas.height - baseSize,\r\n    };\r\n    timer.pos = {\r\n      x: baseSize / 4,\r\n      y: canvas.height - baseSize,\r\n    };\r\n    startButton.pos = {\r\n      x: canvas.width / 2,\r\n      y: canvas.height / 2 + baseSize * 3.5,\r\n    };\r\n    intro.pos = {\r\n      x: canvas.width / 2,\r\n      y: canvas.height / 2,\r\n    };\r\n    result.pos = {\r\n      x: canvas.width / 2,\r\n      y: canvas.height / 2 - baseSize * 10\r\n    }\r\n  };\r\n  update = () => {\r\n    const { time } = this.gameProps;\r\n    time.current = Math.floor((Date.now() - time.start) / 1000);\r\n    time.isEnd = time.current > time.end;\r\n    if (time.isEnd) {\r\n      time.current = time.end;\r\n    }\r\n    this.startButton.isDrawn = false\r\n  };\r\n  drawStartButton = () => {\r\n    const { ctx, baseSize, startButton } = this;\r\n    const { pos, radius } = startButton;\r\n\r\n    startButton.isDrawn = true\r\n\r\n    const grad = ctx.createRadialGradient(\r\n      pos.x,\r\n      pos.y,\r\n      0,\r\n      pos.x,\r\n      pos.y,\r\n      radius\r\n    );\r\n    grad.addColorStop(0, \"rgba(200,90,50,1)\");\r\n    grad.addColorStop(0.9, \"rgba(200,50,50,0.7)\");\r\n    grad.addColorStop(1, \"transparent\");\r\n    const gradHover = ctx.createRadialGradient(\r\n      pos.x,\r\n      pos.y,\r\n      0,\r\n      pos.x,\r\n      pos.y,\r\n      radius\r\n    );\r\n    gradHover.addColorStop(0, \"rgba(200,90,50,1)\");\r\n    gradHover.addColorStop(0.9, \"rgba(200,50,50,1)\");\r\n    gradHover.addColorStop(1, \"transparent\");\r\n\r\n    ctx.save();\r\n    ctx.fillStyle = grad;\r\n    if (this.startButton.isMouseCollision()) {\r\n      ctx.fillStyle = gradHover;\r\n    }\r\n    ctx.beginPath();\r\n    ctx.arc(pos.x, pos.y, radius, 0, Math.PI * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.restore();\r\n\r\n    ctx.save();\r\n    ctx.fillStyle = \"rgba(200,200,200,0.8)\";\r\n    ctx.font = `${baseSize}px monospace`;\r\n    ctx.textAlign = \"center\";\r\n    ctx.textBaseline = \"middle\";\r\n    ctx.fillText(\"START\", pos.x, pos.y);\r\n    ctx.restore();\r\n  };\r\n  drawScore = () => {\r\n    const { ctx, score, baseSize } = this;\r\n    const { pos, value } = score;\r\n\r\n    ctx.save();\r\n    ctx.font = `${baseSize * 4}px Freckle Face`\r\n    ctx.textBaseline = \"top\";\r\n    ctx.textAlign = \"right\";\r\n    ctx.fillStyle = \"rgba(200,120,0,0.8)\";\r\n    ctx.fillText(value, pos.x, pos.y - baseSize * 6);\r\n    ctx.font = `${baseSize * 2}px Freckle Face`\r\n    ctx.fillText(\"Score\", pos.x, pos.y - baseSize * 2);\r\n    ctx.restore();\r\n  };\r\n  addScore = (score, isHit) => {\r\n    if (isHit) {\r\n      this.score.value += score;\r\n    } else {\r\n      this.score.missed += score\r\n    }\r\n  };\r\n  drawTimer = () => {\r\n    const { ctx, timer, font, baseSize } = this;\r\n    const { pos } = timer;\r\n    const time = this.gameProps.time.current;\r\n    const endTime = this.gameProps.time.end;\r\n\r\n    ctx.save();    \r\n    ctx.font = `${baseSize * 4}px Freckle Face`\r\n    ctx.textBaseline = \"top\";\r\n    ctx.fillStyle = `rgba(${(time * 255) / endTime},${\r\n      255 - (time * 255) / endTime\r\n    },0,1)`;\r\n    ctx.fillText(time, pos.x, pos.y - baseSize * 6);\r\n    ctx.font = `${baseSize * 2}px Freckle Face`\r\n    ctx.fillText(\"Time\", pos.x, pos.y - baseSize * 2);\r\n    ctx.restore();\r\n  };\r\n  drawCursor = () => {\r\n    const { ctx, gameProps, baseSize } = this;\r\n    const { mousePos } = gameProps;\r\n    const cursorRadius = baseSize * 2.5;\r\n\r\n    ctx.save();\r\n    const grad = ctx.createRadialGradient(\r\n      mousePos.x,\r\n      mousePos.y,\r\n      cursorRadius / 3,\r\n      mousePos.x,\r\n      mousePos.y,\r\n      cursorRadius\r\n    );\r\n    ctx.globalCompositeOperation = \"screen\";\r\n    grad.addColorStop(0, \"rgba(100,200,150,0.5)\");\r\n    grad.addColorStop(1, \"transparent\");\r\n    ctx.fillStyle = grad;\r\n    ctx.beginPath();\r\n    ctx.arc(mousePos.x, mousePos.y, cursorRadius, 0, Math.PI * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.restore();\r\n  };\r\n  drawIntro = () => {\r\n    const { ctx, baseSize, intro } = this;\r\n    const { pos } = intro;\r\n\r\n    if (this.gameProps.stage != 0) {\r\n      pos.y -= 5;\r\n    }\r\n\r\n    const bubble = (x = 0, y = 0, radius = baseSize) => {\r\n      ctx.save();\r\n      ctx.beginPath();\r\n      ctx.arc(pos.x + x, pos.y + y, radius, 0, Math.PI * 2);\r\n      ctx.closePath();\r\n      const grad = ctx.createRadialGradient(\r\n        pos.x + x,\r\n        pos.y + y,\r\n        0,\r\n        pos.x + x,\r\n        pos.y + y,\r\n        radius\r\n      );\r\n      grad.addColorStop(0, \"transparent\");\r\n      grad.addColorStop(0.7, \"rgba(255,255,255,0.2)\");\r\n      grad.addColorStop(0.9, \"rgba(255,255,255,0.4)\");\r\n      grad.addColorStop(1, \"transparent\");\r\n      ctx.fillStyle = grad;\r\n      ctx.fill();\r\n      ctx.restore();\r\n    };\r\n    const text = () => {\r\n      ctx.save();\r\n      ctx.globalCompositeOperation = \"overlay\";\r\n\r\n      ctx.fillStyle = \"yellow\";\r\n      ctx.font = `${baseSize * 6}px Freckle Face`;\r\n      ctx.textAlign = \"center\";\r\n      ctx.fillText(\"BUbbles\", pos.x, pos.y);\r\n\r\n      ctx.restore();\r\n    };\r\n    bubble(-baseSize * 5, 0, baseSize * 5);\r\n    bubble(baseSize, baseSize * -10, baseSize / 2);\r\n    bubble(baseSize * 2, baseSize * -4, baseSize);\r\n    bubble(baseSize * -3, baseSize * -8, baseSize * 1.7);\r\n    bubble(baseSize * 5, baseSize * -5, baseSize * 1.4);\r\n    bubble(baseSize * 10, baseSize, baseSize * 3);\r\n    bubble(baseSize * -3, baseSize * 8, baseSize * 2);\r\n    bubble(baseSize * 5, baseSize * 10, baseSize * 3);\r\n    bubble(baseSize * -10, baseSize * 7, baseSize);\r\n    bubble(baseSize * 10, baseSize * 8, baseSize / 2);\r\n    bubble(baseSize * 11, baseSize * 7, baseSize * 1.5);\r\n    text();\r\n  };\r\n  drawResult = () => {\r\n    const {ctx, baseSize, score, result} = this\r\n    const {pos} = result\r\n    ctx.save()\r\n    ctx.font = `${baseSize * 5}px Freckle Face`\r\n    ctx.textAlign = \"center\";\r\n    ctx.fillStyle = 'rgba(200,200,100,1)'\r\n    ctx.fillText('RESULTS', pos.x, pos.y)\r\n    \r\n    ctx.font = `${baseSize * 3}px Freckle Face`\r\n    ctx.fillStyle = 'rgba(50,200,100,1)'\r\n    ctx.fillText('SCORE: ' + score.value, pos.x, pos.y + baseSize * 6)\r\n\r\n    ctx.font = `${baseSize * 2}px Freckle Face`\r\n    ctx.fillStyle = 'rgba(100,150,100,1)'\r\n    ctx.fillText('missed: ' + score.missed, pos.x, pos.y + baseSize * 8)\r\n    ctx.restore()\r\n  };\r\n}\r\n","import \"./App.css\";\r\nimport Canvas from \"./Canvas\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Canvas />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}